'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _tslib = require('../../../../../_virtual/_tslib.cjs');
var api = require('../../../data/api.cjs');
var constants = require('../constants.cjs');

const findEmailProvider = (environmentId, email) => _tslib.__awaiter(void 0, void 0, void 0, function* () {
    const { emailProvider } = yield api.getEmailProvider({
        email,
        environmentId,
    });
    if (!constants.allSupportedProviders.includes(emailProvider)) {
        throw new Error('Email provider is not supported');
    }
    return emailProvider;
});

exports.findEmailProvider = findEmailProvider;
