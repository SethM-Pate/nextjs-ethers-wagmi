'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var localStorage$1 = require('../../../../utils/constants/localStorage.cjs');
require('../../../../utils/constants/colors.cjs');
require('../../../../utils/constants/values.cjs');
var localStorage = require('../../classes/storage/localStorage.cjs');
var isWalletGroup = require('../../../../utils/functions/walletListBuilder/utils/isWalletGroup/isWalletGroup.cjs');
var getWalletGroupType = require('../../../../utils/functions/getWalletGroupType/getWalletGroupType.cjs');

const getLastUsedWalletKey = () => localStorage.LocalStorage.getFromLS(localStorage$1.LAST_USED_WALLET);
const getWalletGroupLabel = (walletGroup) => {
    const lastUsedWalletKey = getLastUsedWalletKey();
    const hasNestedLastUsedWallet = walletGroup.groupedWallets.some((walletOption) => walletOption.walletConnector.key === lastUsedWalletKey);
    if (hasNestedLastUsedWallet) {
        return 'Last used';
    }
    const hasNestedInstalledWallets = walletGroup.groupedWallets.some((walletOption) => walletOption.isInstalledOnBrowser);
    if (hasNestedInstalledWallets) {
        return 'Installed';
    }
    if (getWalletGroupType.getWalletGroupType(walletGroup) === 'multi-chain') {
        return 'Multichain';
    }
    return undefined;
};
const getWalletLabel = (walletOption) => {
    const lastUsedWalletKey = getLastUsedWalletKey();
    const { key: walletKey } = walletOption.walletConnector;
    const isLastUsedWallet = walletKey === lastUsedWalletKey;
    if (isLastUsedWallet)
        return 'Last used';
    if (walletOption.isInstalledOnBrowser)
        return 'Installed';
    return undefined;
};
const getWalletListItemLabel = ({ wallet }) => {
    if (isWalletGroup.isWalletGroup(wallet)) {
        return getWalletGroupLabel(wallet);
    }
    return getWalletLabel(wallet);
};

exports.getWalletListItemLabel = getWalletListItemLabel;
