'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _tslib = require('../../../../../_virtual/_tslib.cjs');
var usePasskeyRecovery = require('../usePasskeyRecovery/usePasskeyRecovery.cjs');

const useEmbeddedWalletAuthenticator = () => {
    const { initPasskeyRecoveryProcess, shouldInitRecovery } = usePasskeyRecovery.usePasskeyRecovery();
    const createOrRefreshAuthenticatorSession = (authenticatorType) => _tslib.__awaiter(void 0, void 0, void 0, function* () {
        // user has passkey authenticator set up OR active session
        // there is no need to create or refresh the authenticator
        if (authenticatorType !== 'passkey' && !(yield shouldInitRecovery())) {
            return;
        }
        return initPasskeyRecoveryProcess(authenticatorType);
    });
    return { createOrRefreshAuthenticatorSession };
};

exports.useEmbeddedWalletAuthenticator = useEmbeddedWalletAuthenticator;
