'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var viemUtils = require('@dynamic-labs/viem-utils');
var usePromise = require('../usePromise/usePromise.cjs');
var useInterval = require('../useInterval/useInterval.cjs');

/**
 * The interval to refresh the gas price in milliseconds.
 */
const REFRESH_INTERVAL = 20000;
/**
 * Estimates the L1 fee for the transaction. if the chain is supported.
 */
const useEstimateL1Fee = (publicClient, transaction) => {
    var _a;
    const [refetchKey, setRefetchKey] = React.useState(0);
    const promiseState = usePromise.usePromise(() => viemUtils.estimateL1Fee(publicClient, transaction), {
        deps: [refetchKey, transaction],
        enabled: viemUtils.isL1FeeSupportedByChain(((_a = publicClient.chain) === null || _a === void 0 ? void 0 : _a.id) || 0),
    });
    useInterval.useInterval(() => {
        setRefetchKey((key) => key + 1);
    }, REFRESH_INTERVAL);
    return promiseState;
};

exports.REFRESH_INTERVAL = REFRESH_INTERVAL;
exports.useEstimateL1Fee = useEstimateL1Fee;
